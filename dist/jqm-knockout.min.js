/* jqm-knockout 2013-11-04 */
!function(a,b,c){"use strict";function d(a){var b=a[0].nodeName.toLowerCase(),c=a.jqmData("type")||a[0].type,d=a.jqmData("role");return"range"===c||"slider"===d?"slider":"select"===b?"selectmenu":"button"===b||"button"===c?"button":"input"===b?"checkbox"===c||"radio"===c?"checkboxradio":"textinput":"ul"===b&&"listview"===d?"listview":null}function e(a){return a&&"textinput"!==a}function f(a){if(8===a.nodeType)f(a.parentNode);else{var c=b(a),g=d(c);e(g)?c[g]()[g]("refresh"):b.mobile.activePage.has(a).length&&b.mobile.activePage.trigger("create")}}function g(a){return c?c+a.charAt(0).toUpperCase()+a.substring(1):a}a.bindingHandlers[g("checked")]=function(){function c(b,c){return c.has("checkedValue")?a.unwrap(c.get("checkedValue")):b.value}return{after:["attr","value"],init:function(d,e,f){var g=e();if(a.isWriteableObservable(g)){var h=function(a){g("checkbox"===a.target.type?a.target.checked:c(d,f))},i=b(d).on("click",h);a.utils.domNodeDisposal.addDisposeCallback(d,function(){i.off("click",h)})}},update:function(d,e,g){var h=a.unwrap(e()),i=b(d);if("checkbox"===d.type)i.prop("checked")!==h&&(i.prop("checked",h),f(i));else{var j=c(d,g);d.checked=h===j,f(i)}}}}();var h=g("enable"),i=g("disable");a.bindingHandlers[h]={update:function(c,e){var f=b(c),g=a.unwrap(e()),h=d(f);h?f[h]()[h](g?"enable":"disable"):f.prop("disabled",!g).toggleClass("ui-disabled",!g)}},i in a.bindingHandlers||(a.bindingHandlers[g("disable")]={update:function(b,c){a.bindingHandlers[i].update(b,function(){return!a.unwrap(c())})}}),a.bindingHandlers.vclick={init:function(c,d,e,f,g){var h=function(a){var c,e,f,h=d();return h?(c=b.makeArray(c),e=g.$data,c.unshift(e),f=h.apply(e,c)||!1,f!==!0&&a.preventDefault(),f):void 0},i=b(c).on("vclick",h);a.utils.domNodeDisposal.addDisposeCallback(c,function(){i.off("vclick",h)})}},a.bindingHandlers[g("foreach")]=function(){function b(b,c){return function(){var d=c(),e=a.utils.peekObservable(d);if(!e||"number"==typeof e.length)return{foreach:d,afterRender:function(){f(b)},templateEngine:a.nativeTemplateEngine.instance};var g=e.afterRender;return e.afterRender=function(){if(g){var c=a.utils.peekObservable(g);c.apply(this,arguments)}f(b)},a.unwrap(d),{foreach:e.data,as:e.as,includeDestroyed:e.includeDestroyed,afterAdd:e.afterAdd,beforeRemove:e.beforeRemove,afterRender:e.afterRender,beforeMove:e.beforeMove,afterMove:e.afterMove,templateEngine:a.nativeTemplateEngine.instance}}}return{init:function(c,d,e,f,g){return a.bindingHandlers.template.init(c,b(c,d),e,f,g)},update:function(c,d,e,f,g){return a.bindingHandlers.template.update(c,b(c,d),e,f,g)}}}(),a.bindingHandlers[g("text")]={init:function(){return{controlsDescendantBindings:!0}},update:function(c,d){var e=a.unwrap(d()),f=b(c).find(".ui-btn-text")[0]||c;b(f).text(e)}};var j=a.bindingHandlers.value;a.bindingHandlers[g("value")]={after:j.after||[],init:function(){return j.init.apply(this,arguments)},update:function(a){var b=j.update.apply(this,arguments);return f(a),b}}}(window.ko,window.jQuery,"jqm");